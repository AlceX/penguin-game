{
	"name": "eGame",
	"events": [
		{
			"eventType": "variable",
			"name": "DEBUG",
			"type": "boolean",
			"initialValue": "false",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 493997611043259
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Level Generation",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 490239162598720
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "spr_rock",
							"sid": 208223553903529
						},
						{
							"id": "destroy",
							"objectClass": "spr_snow_clump",
							"sid": 845498536145413
						},
						{
							"id": "destroy",
							"objectClass": "spr_speed_up",
							"sid": 651905838355896
						}
					],
					"sid": 698786651235830,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for",
									"objectClass": "System",
									"sid": 673400342735677,
									"parameters": {
										"name": "\"\"",
										"start-index": "1",
										"end-index": "200"
									}
								}
							],
							"actions": [
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 743210315406599,
									"parameters": {
										"object-to-create": "spr_rock",
										"layer": "\"sprites\"",
										"x": "0",
										"y": "0"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "spr_rock",
									"sid": 726278263586910,
									"parameters": {
										"instance-variable": "world_x",
										"value": "-500 + random(-50, 50)"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "spr_rock",
									"sid": 719188770917903,
									"parameters": {
										"instance-variable": "world_y",
										"value": "20 * loopindex"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "spr_rock",
									"sid": 841160017259323,
									"parameters": {
										"instance-variable": "world_z",
										"value": "400 * loopindex"
									}
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 140796524707328,
									"parameters": {
										"object-to-create": "spr_rock",
										"layer": "\"sprites\"",
										"x": "0",
										"y": "0"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "spr_rock",
									"sid": 910218465553690,
									"parameters": {
										"instance-variable": "world_x",
										"value": "500 + random(-50, 50)"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "spr_rock",
									"sid": 517617420542730,
									"parameters": {
										"instance-variable": "world_y",
										"value": "20 * loopindex"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "spr_rock",
									"sid": 506448039615367,
									"parameters": {
										"instance-variable": "world_z",
										"value": "400 * loopindex"
									}
								}
							],
							"sid": 575430578581585
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for",
									"objectClass": "System",
									"sid": 691493933471533,
									"parameters": {
										"name": "\"\"",
										"start-index": "1",
										"end-index": "40"
									}
								}
							],
							"actions": [
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 324000567230209,
									"parameters": {
										"object-to-create": "spr_snow_clump",
										"layer": "\"sprites\"",
										"x": "0",
										"y": "0"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "spr_snow_clump",
									"sid": 540843965260185,
									"parameters": {
										"instance-variable": "world_x",
										"value": "random(-200, 200)"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "spr_snow_clump",
									"sid": 332172968556582,
									"parameters": {
										"instance-variable": "world_y",
										"value": "100 * loopindex"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "spr_snow_clump",
									"sid": 320403360184551,
									"parameters": {
										"instance-variable": "world_z",
										"value": "loopindex * 2000"
									}
								}
							],
							"sid": 786442211856649
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for",
									"objectClass": "System",
									"sid": 512840119153815,
									"parameters": {
										"name": "\"\"",
										"start-index": "1",
										"end-index": "20"
									}
								}
							],
							"actions": [
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 897247301391763,
									"parameters": {
										"object-to-create": "spr_speed_up",
										"layer": "\"sprites\"",
										"x": "0",
										"y": "0"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "spr_speed_up",
									"sid": 568965868594319,
									"parameters": {
										"instance-variable": "world_x",
										"value": "random(-200, 200)"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "spr_speed_up",
									"sid": 805252414666714,
									"parameters": {
										"instance-variable": "world_y",
										"value": "200 * loopindex"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "spr_speed_up",
									"sid": 853871825819781,
									"parameters": {
										"instance-variable": "world_z",
										"value": "loopindex * 4000 - 1000"
									}
								}
							],
							"sid": 306940264504062
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-collisions-enabled",
									"objectClass": "spr_rock",
									"sid": 825136816310186,
									"parameters": {
										"collisions": "disabled"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "spr_flag",
									"sid": 555448642800656,
									"parameters": {
										"instance-variable": "world_y",
										"value": "4000"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "spr_flag",
									"sid": 382451674013489,
									"parameters": {
										"instance-variable": "world_z",
										"value": "80100"
									}
								}
							],
							"sid": 945153728189798
						}
					]
				}
			],
			"sid": 333485093377526
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Debug",
			"description": "",
			"isActiveOnStart": false,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 514333752028410,
							"parameters": {
								"key": 32
							}
						}
					],
					"actions": [
						{
							"id": "toggle-boolean-eventvar",
							"objectClass": "System",
							"sid": 124310732588732,
							"parameters": {
								"variable": "DEBUG"
							}
						}
					],
					"sid": 183657022663257
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 925108822958760,
							"parameters": {
								"variable": "DEBUG"
							}
						}
					],
					"actions": [],
					"sid": 617931273178960,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "key-is-down",
									"objectClass": "Keyboard",
									"sid": 125512602776532,
									"parameters": {
										"key": 87
									}
								}
							],
							"actions": [
								{
									"id": "add-to-instvar",
									"objectClass": "obj_camera",
									"sid": 341434398032431,
									"parameters": {
										"instance-variable": "world_z",
										"value": "spr_player.speed_z * dt"
									}
								}
							],
							"sid": 378613169431615
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "key-is-down",
									"objectClass": "Keyboard",
									"sid": 697599215237014,
									"parameters": {
										"key": 83
									}
								}
							],
							"actions": [
								{
									"id": "subtract-from-instvar",
									"objectClass": "obj_camera",
									"sid": 117848821393176,
									"parameters": {
										"instance-variable": "world_z",
										"value": "spr_player.speed_z * dt"
									}
								}
							],
							"sid": 289707060934482
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "key-is-down",
									"objectClass": "Keyboard",
									"sid": 672146114111068,
									"parameters": {
										"key": 68
									}
								}
							],
							"actions": [
								{
									"id": "add-to-instvar",
									"objectClass": "obj_camera",
									"sid": 642734155985728,
									"parameters": {
										"instance-variable": "world_x",
										"value": "spr_player.max_speed_x * dt"
									}
								}
							],
							"sid": 730134826913802
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "key-is-down",
									"objectClass": "Keyboard",
									"sid": 178094048051662,
									"parameters": {
										"key": 65
									}
								}
							],
							"actions": [
								{
									"id": "subtract-from-instvar",
									"objectClass": "obj_camera",
									"sid": 989079572730441,
									"parameters": {
										"instance-variable": "world_x",
										"value": "spr_player.max_speed_x * dt"
									}
								}
							],
							"sid": 163783611832125
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "key-is-down",
									"objectClass": "Keyboard",
									"sid": 750023646850255,
									"parameters": {
										"key": 69
									}
								}
							],
							"actions": [
								{
									"id": "add-to-instvar",
									"objectClass": "obj_camera",
									"sid": 499563541774169,
									"parameters": {
										"instance-variable": "world_y",
										"value": "spr_player.max_speed_x * dt"
									}
								}
							],
							"sid": 660866455996370
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "key-is-down",
									"objectClass": "Keyboard",
									"sid": 919437339477235,
									"parameters": {
										"key": 81
									}
								}
							],
							"actions": [
								{
									"id": "subtract-from-instvar",
									"objectClass": "obj_camera",
									"sid": 925525680819017,
									"parameters": {
										"instance-variable": "world_y",
										"value": "spr_player.max_speed_x * dt"
									}
								}
							],
							"sid": 421505935065400
						}
					]
				}
			],
			"sid": 547026419656678
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Camera",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "variable",
					"name": "screen_shake",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": true,
					"isConstant": false,
					"sid": 817386620773526
				},
				{
					"eventType": "variable",
					"name": "screen_shake_x",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 871987634449327
				},
				{
					"eventType": "variable",
					"name": "screen_shake_y",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 311587762714491
				},
				{
					"eventType": "comment",
					"text": "\"h\" is for helper variable."
				},
				{
					"eventType": "variable",
					"name": "h_look_angle",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 367510787452638
				},
				{
					"eventType": "variable",
					"name": "h_speed_unlerp",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 747710931604652
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 257026240335298
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "obj_camera",
							"sid": 307551834408981,
							"parameters": {
								"instance-variable": "depth",
								"value": "(LayoutWidth / 2) / tan(Self.fov / 2)"
							}
						}
					],
					"sid": 499345458059067
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 184612919925868,
							"parameters": {
								"variable": "DEBUG"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 291048172493852,
							"parameters": {
								"variable": "screen_shake",
								"value": "clamp(screen_shake - (obj_camera.max_screen_shake / obj_camera.screen_shake_duration) * dt, 0, Infinity)"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 919669118151894,
							"parameters": {
								"variable": "screen_shake_x",
								"value": "random(-screen_shake, screen_shake)"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 265486857083846,
							"parameters": {
								"variable": "screen_shake_y",
								"value": "random(-screen_shake, screen_shake)"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 909460326800081,
							"parameters": {
								"variable": "h_speed_unlerp",
								"value": "unlerp(spr_player.min_speed_z, spr_player.max_speed_z, spr_player.speed_z)"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 488822175909420,
							"parameters": {
								"variable": "h_look_angle",
								"value": "lerp(obj_camera.min_camera_angle, obj_camera.max_camera_angle, h_speed_unlerp)"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "obj_camera",
							"sid": 818164915310802,
							"parameters": {
								"instance-variable": "world_x",
								"value": "screen_shake_x"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "obj_camera",
							"sid": 355242969599643,
							"parameters": {
								"instance-variable": "world_y",
								"value": "(spr_player.world_y - obj_camera.camera_distance * sin(h_look_angle)) + screen_shake_y"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "obj_camera",
							"sid": 625686747655869,
							"parameters": {
								"instance-variable": "world_z",
								"value": "spr_player.world_z - obj_camera.camera_distance * cos(h_look_angle) - lerp(0, obj_camera.z_follow, h_speed_unlerp)"
							}
						},
						{
							"id": "set-position",
							"objectClass": "bg_sky",
							"sid": 341873792978391,
							"parameters": {
								"x": "LayoutWidth / 2 + screen_shake_x / 10",
								"y": "lerp(-15, -6, h_speed_unlerp)"
							}
						},
						{
							"id": "set-position",
							"objectClass": "bg_mountains",
							"sid": 697517160311963,
							"parameters": {
								"x": "LayoutWidth / 2 + screen_shake_x / 7",
								"y": "bg_sky.Y"
							}
						},
						{
							"id": "set-position",
							"objectClass": "bg_floor",
							"sid": 643224845965280,
							"parameters": {
								"x": "LayoutWidth / 2 + screen_shake_x",
								"y": "bg_sky.Y + bg_sky.Height - 5"
							}
						},
						{
							"id": "set-position-to-another-object",
							"objectClass": "bg_gradient",
							"sid": 414353167436257,
							"parameters": {
								"object": "bg_sky",
								"image-point-optional": "0"
							}
						}
					],
					"sid": 254491281076281
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-function",
							"objectClass": "Function",
							"sid": 307008527265817,
							"parameters": {
								"name": "\"start_screen_shake\""
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 651030590790570,
							"parameters": {
								"variable": "screen_shake",
								"value": "obj_camera.max_screen_shake"
							}
						}
					],
					"sid": 694838094925805
				}
			],
			"sid": 785579837485412
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Animation",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "variable",
					"name": "angle_shake",
					"type": "number",
					"initialValue": "15",
					"comment": "",
					"isStatic": true,
					"isConstant": false,
					"sid": 759659813439406
				},
				{
					"eventType": "variable",
					"name": "state",
					"type": "string",
					"initialValue": "sliding",
					"comment": "\"sliding\", \"boosting\" or \"hit\"",
					"isStatic": true,
					"isConstant": false,
					"sid": 750167208628056
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-function",
							"objectClass": "Function",
							"sid": 993743722626201,
							"parameters": {
								"name": "\"hit_anim\""
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 961056979686083,
							"parameters": {
								"variable": "state",
								"value": "\"hit\""
							}
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 503618804129454,
							"parameters": {
								"seconds": "1.0"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 207081787980542,
							"parameters": {
								"variable": "state",
								"value": "\"sliding\""
							}
						}
					],
					"sid": 751369974603091
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-function",
							"objectClass": "Function",
							"sid": 799110336546093,
							"parameters": {
								"name": "\"boost_anim\""
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 890327514236108,
							"parameters": {
								"variable": "state",
								"value": "\"boost\""
							}
						},
						{
							"id": "set-angle",
							"objectClass": "spr_player",
							"sid": 943434837563653,
							"parameters": {
								"angle": "0"
							}
						},
						{
							"id": "set-animation-frame",
							"objectClass": "spr_player",
							"sid": 295281989302343,
							"parameters": {
								"frame-number": "2"
							}
						},
						{
							"id": "set-animation-speed",
							"objectClass": "spr_player",
							"sid": 125237777663110,
							"parameters": {
								"speed": "0"
							}
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 199043590912069,
							"parameters": {
								"seconds": "0.5"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 975200556425182,
							"parameters": {
								"variable": "state",
								"value": "\"sliding\""
							}
						}
					],
					"sid": 501901252769662
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 671603723829252,
							"parameters": {
								"variable": "state",
								"comparison": 0,
								"value": "\"sliding\""
							}
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "spr_player",
							"sid": 105873722927089,
							"parameters": {
								"animation": "\"center\"",
								"from": "current-frame"
							}
						},
						{
							"id": "set-angle",
							"objectClass": "spr_player",
							"sid": 309660017227836,
							"parameters": {
								"angle": "lerp(-15, 15, unlerp(-spr_player.max_speed_x, spr_player.max_speed_x, spr_player.speed_x))"
							}
						},
						{
							"id": "set-animation-speed",
							"objectClass": "spr_player",
							"sid": 390298882086644,
							"parameters": {
								"speed": "lerp(6, 12, unlerp(spr_player.min_speed_z, spr_player.max_speed_z, spr_player.speed_z))"
							}
						}
					],
					"sid": 287662658220892
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 406935139905214,
							"parameters": {
								"variable": "state",
								"comparison": 0,
								"value": "\"hit\""
							}
						}
					],
					"actions": [
						{
							"id": "set-angle",
							"objectClass": "spr_player",
							"sid": 209538358054941,
							"parameters": {
								"angle": "random(-angle_shake, angle_shake)"
							}
						}
					],
					"sid": 331537346939287
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-group-active",
							"objectClass": "System",
							"sid": 816565046637816,
							"parameters": {
								"group-name": "\"Camera\""
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 802777945341622,
							"parameters": {
								"variable": "state",
								"value": "\"sliding\""
							}
						}
					],
					"sid": 629241639937033
				}
			],
			"sid": 221897017195327
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Movement",
			"description": "",
			"isActiveOnStart": false,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-tick",
							"objectClass": "System",
							"sid": 690550458011206
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "spr_player",
							"sid": 699397706521938,
							"parameters": {
								"instance-variable": "world_x",
								"value": "clamp(Self.world_x + Self.speed_x * dt, -230, 230)"
							}
						},
						{
							"id": "add-to-instvar",
							"objectClass": "spr_player",
							"sid": 993902213157841,
							"parameters": {
								"instance-variable": "world_y",
								"value": "(Self.speed_z / 20) * dt"
							}
						},
						{
							"id": "add-to-instvar",
							"objectClass": "spr_player",
							"sid": 608379577015979,
							"parameters": {
								"instance-variable": "world_z",
								"value": "Self.speed_z * dt"
							}
						}
					],
					"sid": 262056601912473
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "mouse-button-is-down",
							"objectClass": "Mouse",
							"sid": 830779027712538,
							"parameters": {
								"mouse-button": "left"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "spr_player",
							"sid": 693956703792184,
							"parameters": {
								"instance-variable": "speed_x",
								"value": "clamp(Self.speed_x - Self.acceleration_x * dt, -Self.max_speed_x, Self.max_speed_x)"
							}
						}
					],
					"sid": 217472534183099
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "mouse-button-is-down",
							"objectClass": "Mouse",
							"sid": 246432843066027,
							"parameters": {
								"mouse-button": "right"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "spr_player",
							"sid": 181452574170932,
							"parameters": {
								"instance-variable": "speed_x",
								"value": "clamp(Self.speed_x + Self.acceleration_x * dt, -Self.max_speed_x, Self.max_speed_x)"
							}
						}
					],
					"sid": 814021065432035
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "mouse-button-is-down",
							"objectClass": "Mouse",
							"sid": 567653631254164,
							"parameters": {
								"mouse-button": "left"
							},
							"isInverted": true
						},
						{
							"id": "mouse-button-is-down",
							"objectClass": "Mouse",
							"sid": 304355919830375,
							"parameters": {
								"mouse-button": "right"
							},
							"isInverted": true
						}
					],
					"actions": [],
					"sid": 286749439622309,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "spr_player",
									"sid": 330738075449111,
									"parameters": {
										"instance-variable": "speed_x",
										"comparison": 2,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "spr_player",
									"sid": 979644786814118,
									"parameters": {
										"instance-variable": "speed_x",
										"value": "clamp(Self.speed_x + Self.deacceleration_x * dt, -Infinity, 0)"
									}
								}
							],
							"sid": 131171169467392
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "spr_player",
									"sid": 715759326388267,
									"parameters": {
										"instance-variable": "speed_x",
										"comparison": 4,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "spr_player",
									"sid": 508164262592106,
									"parameters": {
										"instance-variable": "speed_x",
										"value": "clamp(Self.speed_x - Self.deacceleration_x * dt, 0, Infinity)"
									}
								}
							],
							"sid": 326892038973850
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-function",
							"objectClass": "Function",
							"sid": 493386875176743,
							"parameters": {
								"name": "\"speed_up_player\""
							}
						}
					],
					"actions": [
						{
							"id": "stop-all-tweens",
							"objectClass": "spr_player",
							"sid": 897037746368674,
							"behaviorType": "Tween"
						},
						{
							"id": "tween-value",
							"objectClass": "spr_player",
							"sid": 579750990661396,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"switch_speed\"",
								"start-value": "Self.speed_z",
								"end-value": "Self.speed_z + Self.speed_z_step",
								"time": "1",
								"ease": "easeoutquart",
								"destroy-on-complete": "no"
							}
						}
					],
					"sid": 810216678429398
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-function",
							"objectClass": "Function",
							"sid": 216748191132992,
							"parameters": {
								"name": "\"slow_down_player\""
							}
						}
					],
					"actions": [
						{
							"id": "stop-all-tweens",
							"objectClass": "spr_player",
							"sid": 174980487463112,
							"behaviorType": "Tween"
						},
						{
							"id": "tween-value",
							"objectClass": "spr_player",
							"sid": 254707278646985,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"switch_speed\"",
								"start-value": "Self.speed_z",
								"end-value": "Self.speed_z - Self.speed_z_step",
								"time": "1",
								"ease": "easeoutquart",
								"destroy-on-complete": "no"
							}
						}
					],
					"sid": 615459224656259
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-playing",
							"objectClass": "spr_player",
							"sid": 278541936683833,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"switch_speed\""
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "spr_player",
							"sid": 960662438521039,
							"parameters": {
								"instance-variable": "speed_z",
								"value": "clamp(Self.Tween.Value(\"switch_speed\"), Self.min_speed_z, Self.max_speed_z)"
							}
						}
					],
					"sid": 588549415162752
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 285973256360877
						}
					],
					"actions": [],
					"sid": 232094708156361,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "spr_player",
									"sid": 270789077377288,
									"parameters": {
										"instance-variable": "speed_z",
										"comparison": 2,
										"value": "1000"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "spr_player",
									"sid": 562457316914770,
									"parameters": {
										"instance-variable": "speed_z",
										"value": "clamp(Self.speed_z + Self.acceleration_z * dt, Self.min_speed_z, Self.max_speed_z)"
									}
								}
							],
							"sid": 811619350720192
						}
					]
				}
			],
			"sid": 894601917282731
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Collision",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Simple? Yeah! But it works if you choose the collision polygons carefully."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "spr_player",
							"sid": 736804656810308,
							"parameters": {
								"object": "spr_speed_up"
							}
						}
					],
					"actions": [
						{
							"id": "call-function",
							"objectClass": "Function",
							"sid": 961252187958541,
							"parameters": {
								"name": "\"speed_up_player\"",
								"parameter-n": []
							}
						},
						{
							"id": "call-function",
							"objectClass": "Function",
							"sid": 873429778897774,
							"parameters": {
								"name": "\"boost_anim\"",
								"parameter-n": []
							}
						},
						{
							"id": "destroy",
							"objectClass": "spr_speed_up",
							"sid": 952643188545717
						}
					],
					"sid": 899176958803248
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "spr_player",
							"sid": 268517942092780,
							"parameters": {
								"object": "spr_snow_clump"
							}
						}
					],
					"actions": [
						{
							"id": "call-function",
							"objectClass": "Function",
							"sid": 670931967161580,
							"parameters": {
								"name": "\"start_screen_shake\"",
								"parameter-n": []
							}
						},
						{
							"id": "call-function",
							"objectClass": "Function",
							"sid": 707333631060967,
							"parameters": {
								"name": "\"slow_down_player\"",
								"parameter-n": []
							}
						},
						{
							"id": "call-function",
							"objectClass": "Function",
							"sid": 271794914071314,
							"parameters": {
								"name": "\"hit_anim\"",
								"parameter-n": []
							}
						},
						{
							"id": "destroy",
							"objectClass": "spr_snow_clump",
							"sid": 286232845244069
						}
					],
					"sid": 585316258469978
				}
			],
			"sid": 682766657600568
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Rendering",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each-ordered",
							"objectClass": "System",
							"sid": 287315168325427,
							"parameters": {
								"object": "Renderable",
								"expression": "Renderable.world_z",
								"order": "ascending"
							}
						}
					],
					"actions": [],
					"sid": 556784881542460,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Renderable",
									"sid": 343224912603626,
									"parameters": {
										"instance-variable": "world_z",
										"comparison": 2,
										"value": "obj_camera.world_z + obj_camera.draw_distance"
									}
								}
							],
							"actions": [],
							"sid": 800870470623616,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "Renderable",
											"sid": 280088531105035,
											"parameters": {
												"instance-variable": "world_z",
												"comparison": 4,
												"value": "obj_camera.world_z"
											}
										}
									],
									"actions": [
										{
											"id": "call-function",
											"objectClass": "Function",
											"sid": 712835933601071,
											"parameters": {
												"name": "\"project\"",
												"parameter-n": [
													"Renderable.UID"
												]
											}
										},
										{
											"id": "set-position",
											"objectClass": "Renderable",
											"sid": 640355247239819,
											"parameters": {
												"x": "Self.screen_x",
												"y": "Self.screen_y"
											}
										},
										{
											"id": "set-scale",
											"objectClass": "Renderable",
											"sid": 706748797943287,
											"parameters": {
												"scale": "Self.scale"
											}
										},
										{
											"id": "move-to-bottom",
											"objectClass": "Renderable",
											"sid": 311220639479037
										}
									],
									"sid": 742318119374288
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 613959035115159
										}
									],
									"actions": [
										{
											"id": "destroy",
											"objectClass": "Renderable",
											"sid": 101099748876199
										}
									],
									"sid": 755516154199206
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 888137354916502
								}
							],
							"actions": [
								{
									"id": "set-scale",
									"objectClass": "Renderable",
									"sid": 372811864523282,
									"parameters": {
										"scale": "0"
									}
								}
							],
							"sid": 724867963825616
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-function",
							"objectClass": "Function",
							"sid": 556779447256853,
							"parameters": {
								"name": "\"project\""
							}
						}
					],
					"actions": [],
					"sid": 842692987487795,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-unique-id",
									"objectClass": "Renderable",
									"sid": 110878112501271,
									"parameters": {
										"unique-id": "Function.Param(0)"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "Renderable",
									"sid": 253567769531493,
									"parameters": {
										"instance-variable": "transformed_x",
										"value": "Self.world_x - obj_camera.world_x"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Renderable",
									"sid": 550062614227476,
									"parameters": {
										"instance-variable": "transformed_y",
										"value": "Self.world_y - obj_camera.world_y"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Renderable",
									"sid": 215011680097976,
									"parameters": {
										"instance-variable": "transformed_z",
										"value": "Self.world_z - obj_camera.world_z"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Renderable",
									"sid": 989723673550606,
									"parameters": {
										"instance-variable": "scale",
										"value": "obj_camera.depth / Self.transformed_z"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Renderable",
									"sid": 261854380988092,
									"parameters": {
										"instance-variable": "screen_x",
										"value": "LayoutWidth / 2 + Self.transformed_x * Self.scale"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Renderable",
									"sid": 610534001163447,
									"parameters": {
										"instance-variable": "screen_y",
										"value": "LayoutHeight / 2 + Self.transformed_y * Self.scale"
									}
								}
							],
							"sid": 526269106812037
						}
					]
				}
			],
			"sid": 853253740197104
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Timer and Win Condition",
			"description": "",
			"isActiveOnStart": false,
			"children": [
				{
					"eventType": "variable",
					"name": "timer",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": true,
					"isConstant": false,
					"sid": 810672542018801
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "spr_player",
							"sid": 335165303274282,
							"parameters": {
								"instance-variable": "world_z",
								"comparison": 2,
								"value": "80000"
							}
						}
					],
					"actions": [
						{
							"id": "set-text",
							"objectClass": "gui_timer",
							"sid": 200665182339217,
							"parameters": {
								"text": "floor(timer) & \".\" & floor((timer % 1) * 10)"
							}
						},
						{
							"id": "add-to-eventvar",
							"objectClass": "System",
							"sid": 978607974904824,
							"parameters": {
								"variable": "timer",
								"value": "dt"
							}
						}
					],
					"sid": 207089698432606
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 549010623762055
						}
					],
					"actions": [],
					"sid": 782981512032399,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-group-active",
									"objectClass": "System",
									"sid": 393995112451330,
									"parameters": {
										"group-name": "\"Camera\""
									}
								}
							],
							"actions": [
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 248283716628947,
									"parameters": {
										"group-name": "\"Camera\"",
										"state": "deactivated"
									}
								},
								{
									"id": "tween-one-property",
									"objectClass": "gui_timer",
									"sid": 769102558590158,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"\"",
										"property": "offsetY",
										"end-value": "120",
										"time": "1.5",
										"ease": "easeoutexpo",
										"destroy-on-complete": "no"
									}
								},
								{
									"id": "tween-value",
									"objectClass": "gui_timer",
									"sid": 176864901620594,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"scale\"",
										"start-value": "1",
										"end-value": "5",
										"time": "1.5",
										"ease": "easeoutexpo",
										"destroy-on-complete": "no"
									}
								},
								{
									"id": "flash",
									"objectClass": "gui_timer",
									"sid": 160930045945642,
									"behaviorType": "Flash",
									"parameters": {
										"on-time": "0.1",
										"off-time": "0.1",
										"duration": "2"
									}
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 532873577821165,
									"parameters": {
										"seconds": "1.5"
									}
								},
								{
									"id": "set-position",
									"objectClass": "gui_text",
									"sid": 670085675800658,
									"parameters": {
										"x": "gui_timer.X",
										"y": "gui_timer.Y - 50"
									}
								}
							],
							"sid": 282886947262040
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 941072306176984
								}
							],
							"actions": [],
							"sid": 488145848079172,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "on-key-pressed",
											"objectClass": "Keyboard",
											"sid": 596369388069812,
											"parameters": {
												"key": 32
											}
										}
									],
									"actions": [
										{
											"id": "set-layer-visible",
											"objectClass": "System",
											"sid": 284087061718981,
											"parameters": {
												"layer": "\"title\"",
												"visibility": "visible"
											}
										},
										{
											"id": "set-layer-visible",
											"objectClass": "System",
											"sid": 433718563987659,
											"parameters": {
												"layer": "\"overlay\"",
												"visibility": "visible"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 749601945134879,
											"parameters": {
												"variable": "timer",
												"value": "0"
											}
										},
										{
											"id": "restart-layout",
											"objectClass": "System",
											"sid": 304199605454157
										}
									],
									"sid": 593355881436500
								}
							]
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-playing",
							"objectClass": "gui_timer",
							"sid": 683142685458153,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"scale\""
							}
						}
					],
					"actions": [
						{
							"id": "set-scale",
							"objectClass": "gui_timer",
							"sid": 693496852434908,
							"parameters": {
								"scale": "Self.Tween.Value(\"scale\")"
							}
						}
					],
					"sid": 744974609152657
				}
			],
			"sid": 296665261982652
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "is-group-active",
					"objectClass": "System",
					"sid": 599734582495475,
					"parameters": {
						"group-name": "\"Movement\""
					},
					"isInverted": true
				},
				{
					"id": "mouse-button-is-down",
					"objectClass": "Mouse",
					"sid": 565303952763947,
					"parameters": {
						"mouse-button": "left"
					}
				},
				{
					"id": "mouse-button-is-down",
					"objectClass": "Mouse",
					"sid": 106815271020268,
					"parameters": {
						"mouse-button": "right"
					}
				}
			],
			"actions": [
				{
					"id": "set-layer-visible",
					"objectClass": "System",
					"sid": 240085820092830,
					"parameters": {
						"layer": "\"title\"",
						"visibility": "invisible"
					}
				},
				{
					"id": "set-layer-visible",
					"objectClass": "System",
					"sid": 338549401456929,
					"parameters": {
						"layer": "\"overlay\"",
						"visibility": "invisible"
					}
				},
				{
					"id": "set-group-active",
					"objectClass": "System",
					"sid": 992934822685588,
					"parameters": {
						"group-name": "\"Movement\"",
						"state": "activated"
					}
				},
				{
					"id": "set-group-active",
					"objectClass": "System",
					"sid": 469534758408845,
					"parameters": {
						"group-name": "\"Timer and Win Condition\"",
						"state": "activated"
					}
				},
				{
					"id": "set-visible",
					"objectClass": "gui_timer",
					"sid": 274478773944731,
					"parameters": {
						"visibility": "visible"
					}
				}
			],
			"sid": 772319022390093
		}
	],
	"sid": 160995284179888
}